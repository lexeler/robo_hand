# Копирование жеста

Скрипт для отслеживания углов сгибания/разгибания пальцев руки в реальном времени с помощью MediaPipe и отправки данных по Serial (Arduino).

## Описание

- Использует OpenCV для захвата видео с веб-камеры.
- Использует MediaPipe Hands для детекции и получения 3D-координат суставов руки.
- Вычисляет угол в суставе PIP каждого пальца и нормализует степень разгибания.
- Для большого пальца применяет дополнительную нормализацию и ограничение.
- Отправляет массив значений разгибания пальцев на Arduino через последовательный порт.
- Отображает видео с отрисованным скелетом руки и текущими значениями на экране.

## Требования

- Python 3.7+
- Веб-камера
- Arduino (или любое устройство, подключённое к Serial порту)

## Установка

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/lexeler/robo_hand.git
   cd robo_hand
   ```

2. (Рекомендовано) Создайте и активируйте виртуальное окружение:
   ```bash
   python3 -m venv venv
   source venv/bin/activate  # Linux/MacOS
   .\venv\Scripts\activate   # Windows
   ```

3. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

## Конфигурация

- По умолчанию скрипт ищет Serial-порт `/dev/ttyACM0`.  
  При необходимости измените строку в коде:
  ```python
  ser = serial.Serial(port='/dev/ttyACM0', baudrate=9600, timeout=1)
  ```
- Параметры детекции руки в MediaPipe можно настроить в блоке:
  ```python
  with mp_hands.Hands(
      static_image_mode=False,
      max_num_hands=1,
      min_detection_confidence=0.9,
      min_tracking_confidence=0.7
  ) as hands:
  ```

## Запуск

```bash
python copy_hand.py
```

- Окно откроется в полноэкранном режиме.
- Для выхода нажмите клавишу `q`.


## Возможные ошибки

- **Не удаётся открыть веб-камеру**  
  Убедитесь, что другая программа не захватила камеру.

- **Ошибка Serial-порта**  
  - Неправильно указан порт или устройство не подключено.  
  - Проверьте `ls /dev/tty*` (Linux) или Диспетчер устройств (Windows).

## Лицензия

MIT License
