# Управление робо-рукой с помощью жестов

## Обзор проекта
Данный проект использует MediaPipe и OpenCV для распознавания жестов руки (камень, ножницы, бумага) и управляет робо-рукой на базе сервоприводов через Arduino. Система отправляет команды углов сервоприводов по последовательному порту на основе распознанных жестов. По умолчанию робот выбирает жест случайно, но при нажатии **Tab** программа переходит в режим, в котором робот всегда выигрывает.

## Компоненты

### Приложение на Python
- **rock_paper_scissors.py**: Захватывает видео с веб-камеры, обрабатывает метки MediaPipe, вычисляет углы сгибания пальцев, распознаёт жесты (камень/ножницы/бумага) и отправляет углы сервоприводов на Arduino.
- **Основные библиотеки**:
  - `opencv-python`
  - `mediapipe`
  - `pyserial`
  - `keyboard`

### Скеч Arduino
- **hand_control.ino**: Считывает значения углов сервоприводов из Serial и управляет пятью серво-моторами.
- **Основная библиотека**:
  - `Servo.h`

## Требования
- Python 3.7 или выше
- Arduino IDE 1.8.x или выше
- Веб-камера (USB или встроенная)
- Arduino Uno (или совместимая плата)
- 5 × серво-моторов
- USB-кабель для соединения Arduino с ПК

## Установка

1. **Клонирование репозитория**  
   ```bash
   git clone https://github.com/robo_hand.git
   cd robo-hand
   ```

2. **Установка зависимостей Python**  
   ```bash
   pip install opencv-python mediapipe pyserial keyboard
   ```

3. **Загрузка скетча в Arduino**  
   - Откройте `arduino/hand_control.ino` в Arduino IDE.  
   - Выберите плату и порт.  
   - Нажмите **Upload**.

## Использование

1. Подключите Arduino к компьютеру через USB.  
2. Убедитесь, что серво-моторы подключены и запитаны.  
3. Запустите Python-скрипт:  
   ```bash
   python rock_paper_scissors.py
   ```  
4. Откроется окно с видеопотоком и метками на руках.
5. Покажите тот же жест, что показала робо-рука.
6. После окончания таймера покажите жест **камень**, **бумага** или **ножницы** перед камерой.  
7. Робо-рука отобразит ваш жест или выберет свой:
   - По умолчанию выбор жеста случайный.  
   - Нажмите **Tab** чтобы переключиться в режим «робот всегда выигрывает».  
   - Нажмите **q** чтобы выйти из приложения.

## Устранение неполадок
- **Ошибка порта**: Если `HAND_WORKS` == false, проверьте путь к порту (например, `/dev/ttyACM0` в Linux или `COM3` в Windows).  
- **Плохое распознавание жестов**: Отрегулируйте параметры `min_detection_confidence` и `min_tracking_confidence` в Python-скрипте.  
- **Дрожание сервоприводов**: Скорректируйте пределы углов в `hand_control.ino`.
